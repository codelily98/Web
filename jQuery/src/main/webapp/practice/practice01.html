<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>전체 선택 기능 구현</title>
</head>
<body>
	<h1>전체 선택 기능 구현하기</h1>
	<form name="form1">
		<fieldset>
			<legend>취미</legend>
			<p>
				<input type="checkbox" id="all_check" value="Y"/>
				<label for="all_check">전체 선택 / 해제</label>
			</p>
			<p>
				<input type="checkbox" id="hobby1" class="hobby_check" value="축구"/>
				<label for="hobby1">축구</label>
				<input type="checkbox" id="hobby2" class="hobby_check" value="농구"/>
				<label for="hobby2">농구</label>
				<input type="checkbox" id="hobby3" class="hobby_check" value="야구"/>
				<label for="hobby3">야구</label>
			</p>
		</fieldset>
	</form>
	
	
<script type="text/javascript" src="http://code.jquery.com/jquery-3.7.1.min.js"></script>
<script type="text/javascript">
$(function(){
	$('#all_check').change(function() {
		let isCheck = $(this).is(':checked');		
		
		$('.hobby_check').prop('checked', isCheck);
	});
	
	$('.hobby_check').click(function(){
		let	conCheck = $('.hobby_check:checked');
		
		if(conCheck.length == 3 ) {
			$('#all_check').prop('checked', true);
		} else {
			$('#all_check').prop('checked', false);
		}		
	});
});
</script>
</body>
</html>

<!--
attr을 사용하면 전체 선택/전체 해제가 된다.
하지만, 전체 선택 후 부분 적으로 요소를 해제, 선택하면
전체 선택/전체 해제가 되지 않는다.
=> 해결방법 : .prop
-->

<!-- 
[문제] 전체 선택 후 1개라도 해제하면 all_check는 헤제가 되도록 하시오
-->